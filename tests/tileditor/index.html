<!DOCTYPE html>
<html>
    <head>
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.4.1/css/bootstrap.min.css" integrity="sha384-Vkoo8x4CGsO3+Hhxv8T/Q5PaXtkKtu6ug5TOeNV6gBiFeWPGFN9MuhOf23Q9Ifjh" crossorigin="anonymous">
        <link href="https://fonts.googleapis.com/css?family=Press+Start+2P&display=swap" rel="stylesheet">
        
        <!-- minify -->
        <link href="https://unpkg.com/nes.css@2.3.0/css/nes.min.css" rel="stylesheet" />
        
        <title>Tile Editor</title>
        <style>
            html{
                font-size: smaller;
                background-image: url(https://i.imgur.com/2gfwG.png);
                background-repeat: no-repeat;
                height: 100%;
                background-position:center;
                background-size: cover;
            }
            .flex-container {
                flex-direction: column;
                position: absolute;
                z-index: 1000;
                right: 0;
            }
            
            .item-menu{
                align-content: center;
                margin:30px;

            }
            .icon-bar {
                flex-direction: column;
                width:75%;
                background-color: #555;
                overflow: auto;
            }

            .icon-bar a {
                float: left;
                width: 25%;
                text-align: center;
                padding: 12px 0;
                transition: all 0.3s ease;
                color: white;
                font-size: 36px;
                height: 100%;
            }
            .icon-bar a:hover {
                background-color: rgb(177, 116, 3);
            }

            .icon-bar-options{
                width: 500px;
            }
            .icon{
                width: 160px;
                height: 50px;
            }
            .student{
                display:none;
            }
            .obstacle{
                display:none;
            }
            .tower{
                display:none;
            }
            .settings{
                display:none;
            }
            canvas {
                position: absolute;
            }
            .gradient{
                background: rgb(89,122,238);
                background: linear-gradient(180deg, rgba(89,122,238,1) 0%, rgba(121,149,249,1) 20%, rgba(121,201,249,1) 100%);
            }
        </style>
    </head>
    <body>
        <div class="jumbotron jumbotron-fluid gradient">
            <div class="container">
              <h1 class="display-4" style="font-family:'Press Start 2P', cursive;">Project Rekt - Tile Editor</h1>
              <p class="lead">Playground for imagining new ways the Ryerson Administration can make it difficult to graduate</p>
            </div>
        </div>
          <div>
            <canvas id="back" width= 1100.037 height=470.476></canvas>
            <canvas id="fore" width= 1100.037 height=470.476 style="background-color: rgba(0,0,0,0);"></canvas>
        </div>
        <!-- <input type="file" id="myFile"> -->
        <div class="flex-container">
            <div class="icon-bar">
                <br>
                <h5 style="text-align:center; color:white; font-family:'Press Start 2P', cursive;">Objects</h3>
                <div>
                    <a onclick="show('student')">
                        <img src=<%="/"+require("./assets/icons/students.png")%> title="Students" alt="students"></img>
                    </a>
                </div>
                <div>
                    <a onclick="show('obstacle')">
                        <img src=<%="/"+require("./assets/icons/obstacle.png")%> title="Obstacles" alt="obstacles"></img>
                    </a> 
                </div>
                <div>
                <a onclick="show('tower')">
                    <img src=<%="/"+require("./assets/icons/tower.png")%> title="Towers" alt="towers"></img>
                </a>
                <a onclick="show('settings')">
                    <img src=<%="/"+require("./assets/icons/settings.png")%> title="Settings" alt="settings"></img>
                </a>
                </div>
            </div>
            <div class="icon-bar-options">
                <button type="button" id="weebSprite" class="nes-btn is-primary button-image icon student">Weeb</button>
                <button id="grillSprite" class="nes-btn is-primary button-image icon  student">Gril</button>
                <button id="exchangeSprite" class="nes-btn is-primary button-image icon  student">FOB</button>
                <button id="ryeSprite" class="nes-btn is-primary button-image icon  student">Normie</button>
                <button id="monkeySprite" class="nes-btn is-primary button-image icon  student">Monkey</button>

                <button id="pylon" class="nes-btn is-error button-image icon  obstacle">Pylon</button>
                <button id="car" class="nes-btn is-error button-image icon  obstacle">Car</button>
                <button id="protester" class="nes-btn is-error button-image icon  obstacle">Protester</button>
                <button id="umbrella" class="nes-btn is-error button-image icon  obstacle">Umbrella</button>
                <button id="fence" class="nes-btn is-error button-image icon  obstacle">Fence</button>

                <button id="mason" class="nes-btn is-success button-image icon  tower">Mason</button>
                <button id="lan" class="nes-btn is-success button-image icon  tower">Lan</button>
                <button id="ta" class="nes-btn is-success button-image icon  tower">TA</button>
                <button id="ali" class="nes-btn is-success button-image icon  tower">Ali</button>
                <button id="harley" class="nes-btn is-success button-image icon  tower">Harley</button>
                
                <button id="exportJson" class="nes-btn is-warning button-image icon settings">Export</button>
            </div>
        </div>
        <script>
            function show(option){
                var elements = document.getElementsByClassName(option)
                for (var i = 0; i < elements.length; i++) {
                    elements[i].style.display = elements[i].style.display == 'inline' ? 'none' : 'inline';
                }
            }

            function draw(){
                var drawing = document.getElementById('main')
                var con = drawing.getContext("2d")
                var map = document.getElementById("myFile")
                con.drawImage(map, 0, 0, 0, 0)
            }

            async function loadImage(src) {
                let img = new Image();
                img.src = src;
                return new Promise((res, rej) => {
                    img.onload = () => {
                    res(img);
        };
      });
    }
        </script>
    </body>
</html>